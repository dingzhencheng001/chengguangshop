<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>查看团队</title>
    <script src="plugins/jquery/jquery-3.2.0.min.js"></script>
    <link rel="stylesheet" href="plugins/layui-v2.7.5/css/layui.css" media="all"/>
    <script src="plugins/layui-v2.7.5/layui.js"></script>

    <!-- 图标库 -->
    <link rel="stylesheet" href="plugins/font-awesome/css/font-awesome.min.css" media="all"/>
    <!-- ztree -->
    <link rel="stylesheet" href="plugins/ztree/css/metroStyle/metroStyle.css"/>
    <script src="plugins/ztree/js/jquery.ztree.all.js"></script>
    <!-- 下拉列表 -->
    <script src="js/common/combobox.js"></script>
    <script src="js/common/inputTree.js"></script>
    <!-- 全局属性 -->
    <script src="js/common/setting.js"></script>
    <script src="js/common/app.js"></script>
    <!-- css -->
    <link rel="stylesheet" href="css/app.css"/>
    <!-- 加载formSelects -->
    <link rel="stylesheet" href="plugins/formSelects/formSelects-v4.css"/>
    <script src="plugins/formSelects/formSelects-v4.js"></script>
    <link rel="stylesheet" href="css/console.css"/>
    <style>
        .layui-tab-card > .layui-tab-title .layui-this {
            background-color: #fff;
        }
    </style>
</head>
<body>
<div class="layui-card layui-bg-gray">
    <div class="layui-card-body layui-anim layui-anim-upbit">
        <div class="think-box-shadow">
            <div class="layui-card-header layui-anim layui-anim-fadein notselect"><span
                    class="layui-icon layui-icon-next font-s10 color-desc margin-right-5"></span>
                当前用户: 12341234(15778754565) 状态: <font color="green">正常</font>
                <div class="pull-right"></div>
            </div>
            <div class="layui-form-item layui-inline" style="margin-right: 10px"><a
                    class="layui-btn layui-btn-sm layui-btn-normal" data-open="/admin/users/index.html"
                    data-reload="true" data-csrf="62d780f44fe72">返回会员列表</a><a
                    class="layui-btn layui-btn-sm layui-btn-danger" data-confirm="确定要封禁该用户【12341234】吗？"
                    data-action="/admin/users/open.html" data-value="id#890;status#1;type#0"
                    data-csrf="62d780f44fe98">封禁</a><a class="layui-btn layui-btn-sm layui-btn-warning"
                                                       data-confirm="确定要封禁该用户【12341234】所有下级吗？"
                                                       data-action="/admin/users/open.html"
                                                       data-value="id#890;status#1;type#1"
                                                       data-csrf="62d780f44feb1">封禁团队</a></div>
            <fieldset>
                <legend>条件搜索</legend>
                <form class="layui-form layui-form-pane form-search"
                      action="/admin/users/tuandui.html?id=890&amp;spm=m-62-63-64" onsubmit="return false"
                      method="get" autocomplete="off">
                    <div class="layui-form-item layui-inline"><label class="layui-form-label">用户名称</label>
                        <div class="layui-input-inline"><input name="username" value="" placeholder="请输入用户名称"
                                                               class="layui-input"></div>
                    </div>
                    <div class="layui-form-item layui-inline"><label class="layui-form-label">手机号码</label>
                        <div class="layui-input-inline"><input name="tel" value="" placeholder="请输入手机号码"
                                                               class="layui-input"></div>
                    </div>
                    <div class="layui-form-item layui-inline"><label class="layui-form-label">注册时间</label>
                        <div class="layui-input-inline"><input data-date-range="" name="addtime" value=""
                                                               placeholder="请选择注册时间" class="layui-input"
                                                               autocomplete="off" lay-key="16"></div>
                    </div>
                    <div class="layui-form-item layui-inline">
                        <button class="layui-btn layui-btn-primary"><i class="layui-icon"></i> 搜 索</button>
                    </div>
                </form>
            </fieldset>
            <div class="layui-tab">
                <ul class="layui-tab-title">
                    <li class="layui-this">Ta的下线</li>
                    <li class="">一级会员</li>
                    <li>二级会员</li>
                    <li>三级会员</li>
                    <li>四级会员</li>
                    <li>五级会员</li>
                </ul>
                <div class="layui-tab-content">
                    <div class="layui-tab-item layui-show">
                        <table id="demo0" lay-filter="test1"></table>
                        <div class="layui-form layui-border-box layui-table-view" lay-filter="LAY-table-6"
                             lay-id="demo0" style=" height:512px;">
                            <div class="layui-table-box">
                                <div class="layui-table-header">
                                    <table cellspacing="0" cellpadding="0" border="0" class="layui-table">
                                        <thead>
                                        <tr>
                                            <th data-field="id" data-key="6-0-0" class=" layui-unselect">
                                                <div class="layui-table-cell laytable-cell-6-0-0">
                                                    <span>ID</span><span class="layui-table-sort layui-inline"><i
                                                        class="layui-edge layui-table-sort-asc" title="升序"></i><i
                                                        class="layui-edge layui-table-sort-desc"
                                                        title="降序"></i></span></div>
                                            </th>
                                            <th data-field="tel" data-key="6-0-1" class="">
                                                <div class="layui-table-cell laytable-cell-6-0-1"><span>账号</span>
                                                </div>
                                            </th>
                                            <th data-field="balance" data-key="6-0-2" class=" layui-unselect">
                                                <div class="layui-table-cell laytable-cell-6-0-2">
                                                    <span>余额</span><span class="layui-table-sort layui-inline"><i
                                                        class="layui-edge layui-table-sort-asc" title="升序"></i><i
                                                        class="layui-edge layui-table-sort-desc"
                                                        title="降序"></i></span></div>
                                            </th>
                                            <th data-field="yj" data-key="6-0-3" class=" layui-unselect">
                                                <div class="layui-table-cell laytable-cell-6-0-3">
                                                    <span>佣金</span><span class="layui-table-sort layui-inline"><i
                                                        class="layui-edge layui-table-sort-asc" title="升序"></i><i
                                                        class="layui-edge layui-table-sort-desc"
                                                        title="降序"></i></span></div>
                                            </th>
                                            <th data-field="cz" data-key="6-0-4" class="">
                                                <div class="layui-table-cell laytable-cell-6-0-4"><span>充值</span>
                                                </div>
                                            </th>
                                            <th data-field="tx" data-key="6-0-5" class="">
                                                <div class="layui-table-cell laytable-cell-6-0-5"><span>提现</span>
                                                </div>
                                            </th>
                                            <th data-field="jb" data-key="6-0-6" class=" layui-unselect">
                                                <div class="layui-table-cell laytable-cell-6-0-6">
                                                    <span>级别</span><span class="layui-table-sort layui-inline"><i
                                                        class="layui-edge layui-table-sort-asc" title="升序"></i><i
                                                        class="layui-edge layui-table-sort-desc"
                                                        title="降序"></i></span></div>
                                            </th>
                                            <th data-field="parent_name" data-key="6-0-7" class="">
                                                <div class="layui-table-cell laytable-cell-6-0-7"><span>上级用户</span>
                                                </div>
                                            </th>
                                            <th data-field="childs" data-key="6-0-8" class="">
                                                <div class="layui-table-cell laytable-cell-6-0-8"><span>直推人数</span>
                                                </div>
                                            </th>
                                            <th data-field="addtime" data-key="6-0-9" class="">
                                                <div class="layui-table-cell laytable-cell-6-0-9"><span>注册时间</span>
                                                </div>
                                            </th>
                                            <th data-field="id" data-key="6-0-10" class="">
                                                <div class="layui-table-cell laytable-cell-6-0-10"><span>操作</span>
                                                </div>
                                            </th>
                                        </tr>
                                        </thead>
                                    </table>
                                </div>
                                <div class="layui-table-body layui-table-main" style="height: 390px;">
                                    <table cellspacing="0" cellpadding="0" border="0" class="layui-table">
                                        <tbody></tbody>
                                    </table>
                                    <div class="layui-none">无数据</div>
                                </div>
                                <div class="layui-table-fixed layui-table-fixed-l layui-hide">
                                    <div class="layui-table-header">
                                        <table cellspacing="0" cellpadding="0" border="0" class="layui-table">
                                            <thead>
                                            <tr>
                                                <th data-field="id" data-key="6-0-0" class=" layui-unselect">
                                                    <div class="layui-table-cell laytable-cell-6-0-0">
                                                        <span>ID</span><span
                                                            class="layui-table-sort layui-inline"><i
                                                            class="layui-edge layui-table-sort-asc"
                                                            title="升序"></i><i
                                                            class="layui-edge layui-table-sort-desc" title="降序"></i></span>
                                                    </div>
                                                </th>
                                            </tr>
                                            </thead>
                                        </table>
                                    </div>
                                    <div class="layui-table-body" style="height: auto;">
                                        <table cellspacing="0" cellpadding="0" border="0" class="layui-table">
                                            <tbody></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="layui-table-total">
                                <table cellspacing="0" cellpadding="0" border="0" class="layui-table">
                                    <tbody>
                                    <tr>
                                        <td>
                                            <div class="layui-table-cell" style="visibility: hidden;">Total</div>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="layui-table-page layui-hide" style="">
                                <div id="layui-table-page6"></div>
                            </div>
                            <style>.laytable-cell-6-0-0 {
                                width: 50px;
                            }

                            .laytable-cell-6-0-1 {
                                width: 120px;
                            }

                            .laytable-cell-6-0-2 {
                            }

                            .laytable-cell-6-0-3 {
                            }

                            .laytable-cell-6-0-4 {
                            }

                            .laytable-cell-6-0-5 {
                            }

                            .laytable-cell-6-0-6 {
                            }

                            .laytable-cell-6-0-7 {
                            }

                            .laytable-cell-6-0-8 {
                            }

                            .laytable-cell-6-0-9 {
                                width: 150px;
                            }

                            .laytable-cell-6-0-10 {
                                width: 170px;
                            }</style>
                        </div>
                    </div>
                    <div class="layui-tab-item">
                        <table id="demo1" lay-filter="test2"></table>
                    </div>
                    <div class="layui-tab-item">
                        <table id="demo2" lay-filter="test2"></table>
                    </div>
                    <div class="layui-tab-item">
                        <table id="demo3" lay-filter="test3"></table>
                    </div>
                    <div class="layui-tab-item">
                        <table id="demo4" lay-filter="test2"></table>
                    </div>
                    <div class="layui-tab-item">
                        <table id="demo5" lay-filter="test3"></table>
                    </div>
                </div>
            </div>
            <script>
                $(function () {
                    var table = layui.table;

                    //第一个实例
                    table.render({
                        elem: '#demo0'
                        , where: {
                            iasjax: 1,
                            level: -1,
                            addtime: "",
                            tel: "",
                            username: "",
                            id: 890
                        }
                        , height: 512
                        , url: '/admin/users/tuandui' //数据接口
                        , totalRow: true
                        , page: true //开启分页
                        , cols: [[ //表头
                            {field: 'id', title: 'ID', width: 50, sort: true, fixed: 'left',}
                            , {field: 'tel', title: '账号', width: 120, totalRowText: '合计'}
                            , {field: 'balance', title: '余额', sort: true, totalRow: true}
                            , {field: 'yj', title: '佣金', sort: true, totalRow: true}
                            , {field: 'cz', title: '充值', totalRow: true}
                            , {field: 'tx', title: '提现', totalRow: true}
                            , {field: 'jb', title: '级别', sort: true}
                            , {field: 'parent_name', title: '上级用户'}
                            , {field: 'childs', title: '直推人数', totalRow: true}
                            , {field: 'addtime', title: '注册时间', width: 150}
                            , {
                                field: 'id', title: '操作', width: 170, templet: function (d) {
                                    var name = d.status ? "封禁" : "解封";
                                    return '' +
                                        '<a class="layui-btn layui-btn-xs layui-btn-danger"  data-title="查看账变" data-reload="true" data-open="/admin/users/caiwu.html?id=' + d.id + '" style="background: #dc1ed1">账变</a>' +
                                        '<a class="layui-btn layui-btn-xs layui-btn-danger"  data-confirm="确定要' + name + '该用户【' + d.username + '】吗？" data-action="/admin/users/open.html" data-value="id#' + d.id + ';status#' + d.status + ';type#0" data-csrf="62d780f44fed7" style="background: ' + color + '">' + name + '</a>' +
                                        '' +
                                        '<a class="layui-btn layui-btn-xs layui-btn-warning"  data-confirm="确定要封禁该用户【' + d.username + '】所有下级吗？" data-action="/admin/users/open.html" data-value="id#' + d.id + ';status#' + d.status + ';type#1" data-csrf="62d780f44fee9">' + name + '团队</a>'
                                    var color = d.status ? "red" : "green";
                                }
                            }
                        ]]
                    });

                    //<th lay-data="{field:'id',width:50}" class='text-left nowrap'>ID</th>
                    $('.layui-tab-title li').click(function () {
                        if ($(this).text() == '一级会员') {

                            //第2个实例
                            table.render({
                                elem: '#demo1'
                                , where: {
                                    iasjax: 1,
                                    level: 1,
                                    addtime: "",
                                    tel: "",
                                    username: "",
                                    id: 890
                                }
                                , height: 512
                                , url: '/admin/users/tuandui' //数据接口
                                , totalRow: true
                                , page: true //开启分页
                                , cols: [[ //表头
                                    {field: 'id', title: 'ID', width: 50, sort: true, fixed: 'left',}
                                    , {field: 'tel', title: '账号', width: 120, totalRowText: '合计'}
                                    , {field: 'balance', title: '余额', sort: true, totalRow: true}
                                    , {field: 'yj', title: '佣金', sort: true, totalRow: true}
                                    , {field: 'cz', title: '充值', totalRow: true}
                                    , {field: 'tx', title: '提现', totalRow: true}
                                    , {field: 'jb', title: '级别', sort: true}
                                    , {field: 'parent_name', title: '上级用户'}
                                    , {field: 'childs', title: '直推人数', totalRow: true}
                                    , {field: 'addtime', title: '注册时间', width: 150}
                                    , {
                                        field: 'id', title: '操作', width: 170, templet: function (d) {
                                            var name = d.status ? "封禁" : "解封";
                                            return '' +
                                                '<a class="layui-btn layui-btn-xs layui-btn-danger"  data-title="查看账变" data-reload="true" data-open="/admin/users/caiwu.html?id=' + d.id + '" style="background: #dc1ed1">账变</a>' +
                                                '<a class="layui-btn layui-btn-xs layui-btn-danger"  data-confirm="确定要' + name + '该用户【' + d.username + '】吗？" data-action="/admin/users/open.html" data-value="id#' + d.id + ';status#' + d.status + ';type#0" data-csrf="62d780f44ff06" style="background: ' + color + '">' + name + '</a>' +
                                                '' +
                                                '<a class="layui-btn layui-btn-xs layui-btn-warning"  data-confirm="确定要封禁该用户【' + d.username + '】所有下级吗？" data-action="/admin/users/open.html" data-value="id#' + d.id + ';status#' + d.status + ';type#1" data-csrf="62d780f44ff17">' + name + '团队</a>'
                                            var color = d.status ? "red" : "green";
                                        }
                                    }
                                ]]
                            });

                        } else if ($(this).text() == '二级会员') {

                            //第3个实例
                            table.render({
                                elem: '#demo2'
                                , where: {
                                    iasjax: 1,
                                    level: 2,
                                    addtime: "",
                                    tel: "",
                                    username: "",
                                    id: 890
                                }
                                , height: 512
                                , url: '/admin/users/tuandui' //数据接口
                                , totalRow: true
                                , page: true //开启分页
                                , cols: [[ //表头
                                    {field: 'id', title: 'ID', width: 50, sort: true, fixed: 'left',}
                                    , {field: 'tel', title: '账号', width: 120, totalRowText: '合计'}
                                    , {field: 'balance', title: '余额', sort: true, totalRow: true}
                                    , {field: 'yj', title: '佣金', sort: true, totalRow: true}
                                    , {field: 'cz', title: '充值', totalRow: true}
                                    , {field: 'tx', title: '提现', totalRow: true}
                                    , {field: 'jb', title: '级别', sort: true}
                                    , {field: 'parent_name', title: '上级用户'}
                                    , {field: 'childs', title: '直推人数', totalRow: true}
                                    , {field: 'addtime', title: '注册时间', width: 150}
                                    , {
                                        field: 'id', title: '操作', width: 170, templet: function (d) {
                                            var name = d.status ? "封禁" : "解封";
                                            return '' +
                                                '<a class="layui-btn layui-btn-xs layui-btn-danger"  data-title="查看账变" data-reload="true" data-open="/admin/users/caiwu.html?id=' + d.id + '" style="background: #dc1ed1">账变</a>' +
                                                '<a class="layui-btn layui-btn-xs layui-btn-danger"  data-confirm="确定要' + name + '该用户【' + d.username + '】吗？" data-action="/admin/users/open.html" data-value="id#' + d.id + ';status#' + d.status + ';type#0" data-csrf="62d780f44ff33" style="background: ' + color + '">' + name + '</a>' +
                                                '' +
                                                '<a class="layui-btn layui-btn-xs layui-btn-warning"  data-confirm="确定要封禁该用户【' + d.username + '】所有下级吗？" data-action="/admin/users/open.html" data-value="id#' + d.id + ';status#' + d.status + ';type#1" data-csrf="62d780f44ff43">' + name + '团队</a>'
                                            var color = d.status ? "red" : "green";
                                        }
                                    }
                                ]]
                            });

                        } else if ($(this).text() == '三级会员') {

                            //第4个实例
                            table.render({
                                elem: '#demo3'
                                , where: {
                                    iasjax: 1,
                                    level: 3,
                                    addtime: "",
                                    tel: "",
                                    username: "",
                                    id: 890
                                }
                                , height: 512
                                , url: '/admin/users/tuandui' //数据接口
                                , totalRow: true
                                , page: true //开启分页
                                , cols: [[ //表头
                                    {field: 'id', title: 'ID', width: 50, sort: true, fixed: 'left',}
                                    , {field: 'tel', title: '账号', width: 120, totalRowText: '合计'}
                                    , {field: 'balance', title: '余额', sort: true, totalRow: true}
                                    , {field: 'yj', title: '佣金', sort: true, totalRow: true}
                                    , {field: 'cz', title: '充值', totalRow: true}
                                    , {field: 'tx', title: '提现', totalRow: true}
                                    , {field: 'jb', title: '级别', sort: true}
                                    , {field: 'parent_name', title: '上级用户'}
                                    , {field: 'childs', title: '直推人数', totalRow: true}
                                    , {field: 'addtime', title: '注册时间', width: 150}
                                    , {
                                        field: 'id', title: '操作', width: 170, templet: function (d) {
                                            var name = d.status ? "封禁" : "解封";
                                            return '' +
                                                '<a class="layui-btn layui-btn-xs layui-btn-danger"  data-title="查看账变" data-reload="true" data-open="/admin/users/caiwu.html?id=' + d.id + '" style="background: #dc1ed1">账变</a>' +
                                                '<a class="layui-btn layui-btn-xs layui-btn-danger"  data-confirm="确定要' + name + '该用户【' + d.username + '】吗？" data-action="/admin/users/open.html" data-value="id#' + d.id + ';status#' + d.status + ';type#0" data-csrf="62d780f44ff5e" style="background: ' + color + '">' + name + '</a>' +
                                                '' +
                                                '<a class="layui-btn layui-btn-xs layui-btn-warning"  data-confirm="确定要封禁该用户【' + d.username + '】所有下级吗？" data-action="/admin/users/open.html" data-value="id#' + d.id + ';status#' + d.status + ';type#1" data-csrf="62d780f44ff6f">' + name + '团队</a>'
                                            var color = d.status ? "red" : "green";
                                        }
                                    }
                                ]]
                            });
                        } else if ($(this).text() == '四级会员') {

                            //第4个实例
                            table.render({
                                elem: '#demo4'
                                , where: {
                                    iasjax: 1,
                                    level: 4,
                                    addtime: "",
                                    tel: "",
                                    username: "",
                                    id: 890
                                }
                                , height: 512
                                , url: '/admin/users/tuandui' //数据接口
                                , totalRow: true
                                , page: true //开启分页
                                , cols: [[ //表头
                                    {field: 'id', title: 'ID', width: 50, sort: true, fixed: 'left',}
                                    , {field: 'tel', title: '账号', width: 120, totalRowText: '合计'}
                                    , {field: 'balance', title: '余额', sort: true, totalRow: true}
                                    , {field: 'yj', title: '佣金', sort: true, totalRow: true}
                                    , {field: 'cz', title: '充值', totalRow: true}
                                    , {field: 'tx', title: '提现', totalRow: true}
                                    , {field: 'jb', title: '级别', sort: true}
                                    , {field: 'parent_name', title: '上级用户'}
                                    , {field: 'childs', title: '直推人数', totalRow: true}
                                    , {field: 'addtime', title: '注册时间', width: 150}
                                    , {
                                        field: 'id', title: '操作', width: 170, templet: function (d) {
                                            var name = d.status ? "封禁" : "解封";
                                            return '' +
                                                '<a class="layui-btn layui-btn-xs layui-btn-danger"  data-title="查看账变" data-reload="true" data-open="/admin/users/caiwu.html?id=' + d.id + '" style="background: #dc1ed1">账变</a>' +
                                                '<a class="layui-btn layui-btn-xs layui-btn-danger"  data-confirm="确定要' + name + '该用户【' + d.username + '】吗？" data-action="/admin/users/open.html" data-value="id#' + d.id + ';status#' + d.status + ';type#0" data-csrf="62d780f44ff8b" style="background: ' + color + '">' + name + '</a>' +
                                                '' +
                                                '<a class="layui-btn layui-btn-xs layui-btn-warning"  data-confirm="确定要封禁该用户【' + d.username + '】所有下级吗？" data-action="/admin/users/open.html" data-value="id#' + d.id + ';status#' + d.status + ';type#1" data-csrf="62d780f44ff9c">' + name + '团队</a>'
                                            var color = d.status ? "red" : "green";
                                        }
                                    }
                                ]]
                            });
                        } else if ($(this).text() == '五级会员') {

                            //第4个实例
                            table.render({
                                elem: '#demo5'
                                , where: {
                                    iasjax: 1,
                                    level: 5,
                                    addtime: "",
                                    tel: "",
                                    username: "",
                                    id: 890
                                }
                                , height: 512
                                , url: '/admin/users/tuandui' //数据接口
                                , totalRow: true
                                , page: true //开启分页
                                , cols: [[ //表头
                                    {field: 'id', title: 'ID', width: 50, sort: true, fixed: 'left',}
                                    , {field: 'tel', title: '账号', width: 120, totalRowText: '合计'}
                                    , {field: 'balance', title: '余额', sort: true, totalRow: true}
                                    , {field: 'yj', title: '佣金', sort: true, totalRow: true}
                                    , {field: 'cz', title: '充值', totalRow: true}
                                    , {field: 'tx', title: '提现', totalRow: true}
                                    , {field: 'jb', title: '级别', sort: true}
                                    , {field: 'parent_name', title: '上级用户'}
                                    , {field: 'childs', title: '直推人数', totalRow: true}
                                    , {field: 'addtime', title: '注册时间', width: 150}
                                    , {
                                        field: 'id', title: '操作', width: 170, templet: function (d) {
                                            var name = d.status ? "封禁" : "解封";
                                            return '' +
                                                '<a class="layui-btn layui-btn-xs layui-btn-danger"  data-title="查看账变" data-reload="true" data-open="/admin/users/caiwu.html?id=' + d.id + '" style="background: #dc1ed1">账变</a>' +
                                                '<a class="layui-btn layui-btn-xs layui-btn-danger"  data-confirm="确定要' + name + '该用户【' + d.username + '】吗？" data-action="/admin/users/open.html" data-value="id#' + d.id + ';status#' + d.status + ';type#0" data-csrf="62d780f44ffb7" style="background: ' + color + '">' + name + '</a>' +
                                                '' +
                                                '<a class="layui-btn layui-btn-xs layui-btn-warning"  data-confirm="确定要封禁该用户【' + d.username + '】所有下级吗？" data-action="/admin/users/open.html" data-value="id#' + d.id + ';status#' + d.status + ';type#1" data-csrf="62d780f44ffc8">' + name + '团队</a>'
                                            var color = d.status ? "red" : "green";
                                        }
                                    }
                                ]]
                            });
                        }
                    })
                })
            </script>
        </div>
    </div>
</div>
</body>
</html>